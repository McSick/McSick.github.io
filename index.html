<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Fantasy Roguelite ‚Äî Organized</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
<div id="gameWrap">
      <canvas id="game"></canvas>

      <div class="hud">
        <div class="leftStack">
          <div class="stat">
            Room: <span id="roomType">-</span>
            <span id="roomTheme" style="opacity: 0.8"></span>
          </div>
          <div class="stat smallRow">
            <span>HP</span>
            <div class="hpBar">
              <div id="hpFill" class="hpFill" style="width: 100%"></div>
            </div>
          </div>
          <div class="stat">Gold: <span id="gold" class="gold">0</span></div>
          <div class="stat">Class: <span id="clazz" class="class">-</span></div>
          <div class="stat">Pages: <span id="pages" class="pages">0</span></div>
          <div class="stat">
            Armor: <span id="armorName" class="armor">None</span>
          </div>
          <div class="stat smallRow">
            <span>Stage:</span>
            <div
              class="progress"
              style="
                width: 200px;
                height: 10px;
                background: #283050;
                border-radius: 999px;
                overflow: hidden;
                border: 1px solid rgba(255, 255, 255, 0.08);
              "
            >
              <div
                id="stageProg"
                class="progressFill"
                style="
                  height: 100%;
                  width: 0%;
                  background: linear-gradient(90deg, #6fe7ff, #b58cff);
                "
              ></div>
            </div>
            <span id="stageLabel" style="opacity: 0.8"></span>
          </div>
          <div
            class="stat"
            id="abilityInfo"
            style="
              max-width: 38vw;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              opacity: 0.9;
            "
          >
            Click/tap an ability, then tap a tile. Hover to see details here.
          </div>
        </div>

        <div class="stat rightStack">
          <button id="loadoutBtn" class="miniBtn">‚ò∞ Loadout</button>
          <button id="helpBtn" class="miniBtn" title="Controls & guide">
            ‚ùì Help
          </button>
          <button id="muteBtn" class="miniBtn" title="Toggle sound">üîä</button>
          <button id="restartBtn" class="miniBtn">‚Üª Restart</button>
        </div>
      </div>

      <div class="controls">
        <div class="dpad">
          <button class="up" data-dir="up">‚ñ≤</button>
          <button class="down" data-dir="down">‚ñº</button>
          <button class="left" data-dir="left">‚óÄ</button>
          <button class="right" data-dir="right">‚ñ∂</button>
        </div>
        <div class="abilities" id="abilities"></div>
      </div>

      <div class="modal" id="modal">
        <div class="card" id="modalCard">
          <h2 id="modalTitle">Loot!</h2>
          <div id="modalContent"></div>
          <div class="footerRow" id="modalFooter"></div>
        </div>
      </div>
    </div>

<!-- Scripts split from the original monolithic file; load in the original order -->

    <script src="src/core/util.js"></script>
    <script src="src/core/canvas.js"></script>
    <script src="src/core/audio.js"></script>
    <script src="src/core/state.js"></script>
    <script src="src/assets/atlas_0x72_tileset_png.js"></script>
    <script src="src/assets/enemies_sprites.js"></script>
    <script src="src/assets/story_stages.js"></script>
    <script src="src/map/tiles_map.js"></script>
    <script src="src/combat/classes_talents.js"></script>
    <script src="src/combat/armor.js"></script>
    <script src="src/combat/abilities_unchanged.js"></script>
    <script src="src/combat/turns.js"></script>
    <script src="src/ui/effects_hud_helpers.js"></script>
    <script src="src/ui/modal_ui.js"></script>
    <script src="src/ui/inspect_modal.js"></script>
    <script src="src/ui/status_badges.js"></script>
    <script src="src/ui/render.js"></script>
    <script src="src/input/input.js"></script>
    <script src="src/input/tap_targeting.js"></script>
    <script src="src/input/keyboard_input.js"></script>
    <script src="src/input/smart_self_cast_helper_reuse_the_normal_targeting_path.js"></script>
    <script src="src/core/flow.js"></script>
    <script src="src/core/run_setup.js"></script>
    <script src="src/core/self_tests.js"></script>
  </body>
</html>
